From 3d90bedf401dcb04468b5667169c1e33487a3664 Mon Sep 17 00:00:00 2001
From: Hari Shreedharan <hshreedharan@cloudera.com>
Date: Mon, 13 May 2013 16:20:28 -0700
Subject: [PATCH 06/56] CLOUDERA-BUILD. Use CDH version of Zookeeper.

---
 flume-ng-sinks/flume-ng-hbase-sink/pom.xml |    5 +++++
 pom.xml                                    |   18 ++++++++++++++++++
 2 files changed, 23 insertions(+), 0 deletions(-)

diff --git a/flume-ng-sinks/flume-ng-hbase-sink/pom.xml b/flume-ng-sinks/flume-ng-hbase-sink/pom.xml
index 7fbd383..00e0ad2 100644
--- a/flume-ng-sinks/flume-ng-hbase-sink/pom.xml
+++ b/flume-ng-sinks/flume-ng-hbase-sink/pom.xml
@@ -70,6 +70,11 @@
     </dependency>
 
     <dependency>
+      <groupId>org.apache.zookeeper</groupId>
+      <artifactId>zookeeper</artifactId>
+    </dependency>
+
+    <dependency>
       <groupId>org.hbase</groupId>
       <artifactId>asynchbase</artifactId>
     </dependency>
diff --git a/pom.xml b/pom.xml
index ade3526..9a813d5 100644
--- a/pom.xml
+++ b/pom.xml
@@ -933,6 +933,10 @@ limitations under the License.
             <groupId>com.cloudera.cdh</groupId>
             <artifactId>zookeeper-ant</artifactId>
           </exclusion>
+          <exclusion>
+            <groupId>org.apache.zookeeper</groupId>
+            <artifactId>zookeeper</artifactId>
+          </exclusion>
         </exclusions>
       </dependency>
 
@@ -947,10 +951,20 @@ limitations under the License.
             <groupId>com.cloudera.cdh</groupId>
             <artifactId>zookeeper-ant</artifactId>
           </exclusion>
+          <exclusion>
+            <groupId>org.apache.zookeeper</groupId>
+            <artifactId>zookeeper</artifactId>
+          </exclusion>
         </exclusions>
       </dependency>
 
       <dependency>
+        <groupId>org.apache.zookeeper</groupId>
+        <artifactId>zookeeper</artifactId>
+        <version>${cdh.zookeeper.version}</version>
+      </dependency>
+
+      <dependency>
         <groupId>org.apache.hadoop</groupId>
         <artifactId>hadoop</artifactId>
         <version>${hadoop.version}</version>
@@ -1138,6 +1152,10 @@ limitations under the License.
             <groupId>org.jboss.netty</groupId>
             <artifactId>netty</artifactId>
           </exclusion>
+          <exclusion>
+            <groupId>org.apache.zookeeper</groupId>
+            <artifactId>zookeeper</artifactId>
+          </exclusion>
         </exclusions>
       </dependency>
 
-- 
1.7.0.4

