!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.chart=t.chart||{})}(this,function(t){function e(t,e,r,n){return l(t,"."+e,r||"div",n).classed(e,!0)}function r(){}function n(t,e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}function a(t,e,r,n,a){var i=r||120,o=n||30,u=d3.scale.ordinal().domain(d3.range(0,e.length)).range(d3.range(0,i,i/e.length)),s=d3.scale.linear().range([4,o]).domain([a||d3.min(e),d3.max(e)]),c=l(t,"g","g",e,function(t,e){return 1});return f(c,"rect","rect",function(t){return t},function(t,e){return e}).attr("x",function(t,e){return u(e)}).attr("width",i/e.length-1.2).attr("y",function(t){return o-s(t)}).attr("height",function(t){return t?s(t):0}),c}function i(t){return new x(t)}function o(t,e,r,n){var a=t.style("width").replace("px",""),i=l(t,"svg","svg",[e],function(){return 1}).style("width",a+"px").style("height","20px"),o=l(i,"g.chart","g",!1,function(){return 1}).attr("class","chart");f(o,".pop-bar","rect",function(t){return t},function(t,e){return e}).attr("class","pop-bar").attr("height",16).attr({x:0,y:0}).style("fill",n).attr("width",function(t){return r(t)})}function u(t){return new g(t)}var s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function(t,e,r,n,a){var r=r||"div",i=t.selectAll(e).data(function(t){return n?[n]:[t]},a||function(t){return[t]});return i.enter().append(r),i},f=function(t,e,r,n,a){var r=r||"div",i=t.selectAll(e).data(n||function(t){return t},a||function(t){return t});return i.enter().append(r),i},h=function(){function t(e){var r=this;s(this,t),this._target=e,this._on={},this.props().map(function(t){r[t]=n.bind(r,t)})}return c(t,[{key:"props",value:function(){return["data"]}},{key:"on",value:function(t,e){return void 0===e?this._on[t]||r:(this._on[t]=e,this)}}]),t}(),d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),y=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(t){function r(t){d(this,r);var e=b(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e._wrapper_class="ba-timeseries-wrap",e}return y(r,t),p(r,[{key:"props",value:function(){return["data","before","after","wrapper_class"]}},{key:"draw",value:function(){var t=250/this.data().length,r=this.before(),n=this.after(),i=e(this._target,this.wrapper_class(),"svg").style("display","block").style("margin","auto").style("margin-bottom","30px").attr("width","250px").attr("height","70px");return a(i,this.data(),250),e(i,"middle","line").style("stroke-dasharray","1,5").attr("stroke-width",1).attr("stroke","black").attr("y1",0).attr("y2",55).attr("x1",125).attr("x2",125),e(i,"middle-text","text").attr("x",125).attr("y",67).style("text-anchor","middle").text("On-site"),e(i,"before","line").style("stroke-dasharray","1,5").attr("stroke-width",1).attr("stroke","black").attr("y1",39).attr("y2",45).attr("x1",t*r).attr("x2",t*r),e(i,"before-text","text").attr("x",t*r-8).attr("y",48).style("text-anchor","end").text("Consideration"),e(i,"window","line").style("stroke-dasharray","1,5").attr("stroke-width",1).attr("stroke","black").attr("y1",45).attr("y2",45).attr("x1",t*r).attr("x2",t*(n+1)+1),e(i,"after","line").style("stroke-dasharray","1,5").attr("stroke-width",1).attr("stroke","black").attr("y1",39).attr("y2",45).attr("x1",t*(n+1)).attr("x2",t*(n+1)),e(i,"after-text","text").attr("x",t*(n+1)+8).attr("y",48).style("text-anchor","start").text("Validation"),this}}]),r}(h),g=function(t){function e(t){d(this,e);var r=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.target=t,r}return y(e,t),p(e,[{key:"props",value:function(){return["data","max"]}},{key:"draw",value:function(){var t=(this.target.style("width").replace("px","")||this.offsetWidth)-50,e=d3.scale.linear().range([0,t]).domain([0,this.max()]);this.target.text()&&this.target.text("");var r=l(this.target,".bullet","div",this.data(),function(t){return 1}).classed("bullet",!0).style("margin-top","3px"),n=l(r,"svg","svg",!1,function(t){return 1}).attr("width",t).attr("height",28);return l(n,".bar-1","rect",!1,function(t){return 1}).classed("bar-1",!0).attr("x",0).attr("width",function(t){return e(t.pop_percent)}).attr("height",28).attr("fill","#888"),l(n,".bar-2","rect",!1,function(t){return 1}).classed("bar-2",!0).attr("x",0).attr("y",7).attr("width",function(t){return e(t.sample_percent_norm)}).attr("height",14).attr("fill","rgb(8, 29, 88)"),this}}]),e}(h);t.version="0.0.1",t.before_after_timeseries=i,t.simpleTimeseries=a,t.simpleBar=o,t.domain_bullet=u,Object.defineProperty(t,"__esModule",{value:!0})});