{% autoescape None %}
{% block content %}

<head>
  <script type="text/javascript" src="/static/js/d3.js" charset="utf-8"></script>
  <script src="/static/js/queue.js"></script>
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/crossfilter.min.js"></script> 
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/handlebars-v3.0.3.js"></script>

 <script src="/static/js/rockerbox/routes.js"></script> 
 <script src="/static/js/rockerbox/menu/menu.js"></script>    
 <script src="/static/js/rockerbox/menu/navbar.js"></script>    
 <script src="/static/js/rockerbox/menu/selectbar.js"></script>    
 <script src="/static/js/rockerbox/helper.js"></script>    

 <script src="/static/js/rockerbox/crusher/subscribe.js"></script> 
 <script src="/static/js/rockerbox/crusher/api.js"></script> 


 <script src="/static/js/rockerbox/crusher/controller.js"></script>   

 <script src="/static/js/rockerbox/crusher/ui.js"></script>   
 <script src="/static/js/rockerbox/crusher/ui.action.js"></script>    
 <script src="/static/js/rockerbox/crusher/ui.funnel.js"></script>     
 <script src="/static/js/rockerbox/crusher/ui.funnel.action.js"></script>     
      
 <script src="/static/js/rockerbox/crusher/ui.funnel.show.js"></script>     
 <script src="/static/js/rockerbox/crusher/ui.funnel.edit.js"></script>     

 <script src="/static/js/rockerbox/crusher/ui.funnel.campaign.js"></script>
 <script src="/static/js/rockerbox/crusher/ui.funnel.campaign.lookalike.js"></script>



 <script src="/static/js/rockerbox/crusher/ui.action.pattern.js"></script> 
  

 <script src="/static/js/rockerbox/rho/ui.js"></script>    
 <script src="/static/js/rockerbox/rho/ui.filter.js"></script>  
 

  <script src="/static/js/rockerbox/visit_urls.js"></script>
  <script src="/static/js/bootstrap-switch.js"></script>
  <script src="/static/js/jquery.serialize-object.js"></script>
  <script src="/static/js/bootstrap-select.js"></script>
  
  <script src="/static/js/typeahead.js/typeahead.bundle.js"></script>



  <script type="text/javascript" src="/static/js/chosen/chosen.jquery.min.js"> </script>

  <link href="/static/js/chosen/chosen.min.css" rel="stylesheet"> 
  <link href="/static/css/bootstrap.css" rel="stylesheet"> 
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/fonts.css" rel="stylesheet">


  <link href="/static/css/bootstrap-switch.css" rel="stylesheet">
  <link href="/static/css/bootstrap-select.css" rel="stylesheet">

  <link href="/static/js/typeahead.js/typeahead.css" rel="stylesheet">

  
  <script> 
    $(document).ready(function() {
      function compare(a, b){
        if (a.count < b.count) {
	  return -1;
	}
        if (a.count > b.count) {
          return 1;
        }
        return 0;
      }

      // constructs the suggestion engine
      var urls = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: { 
          url: "/crusher/api/urls?advertiser={{advertiser}}&search=%QUERY&format=json&logic=must&timeout=3",
          wildcard: "%QUERY"
        },
        sorter:compare
      });
    
      $('#bloodhound .typeahead').typeahead(null, {
        name: 'urls',
        source: urls,
        timeout: 1,
        templates: {
        empty: [
          '<div class="empty-message">',
          'Sorry, no matching results. :(' ,
          '</div>'
        ].join('\n'),
        suggestion: Handlebars.compile('<div><strong>{{!url}}</strong> â€“ {{!count}}</div>')
      }});
});
  </script>

</head>

<body>
  <div id="bloodhound">
    <input class="typeahead" type="text" size="70">
  </div>
</body>

{% end %}   
